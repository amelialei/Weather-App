{% load static %}

<html lang = 'en'>
<head>
    <title>Weather App</title>
    <meta charset ='UTF-8'/>
    <meta name = 'viewport' content = "width=device-width, initial-scale=1"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
    crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script src="http://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNf0u91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <script>
        function use_ip(json) {
            $.ajax({
                url: "{% url 'get_weather_from_ip' %}",
                data: {"ip": json.ip},
                dataType: 'json',
                success: function (data) {
                    document.getElementById('weatherdata').innerHTML = data.weather_data
                }
            });
        }
    </script>
    <script src = "http://api.ipify.org?format=jsonp&callback=use_ip"></script>
</head>
<body>
    {% block content %}{% endblock content %}
</body>
</html>