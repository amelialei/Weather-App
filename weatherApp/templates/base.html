{% load static %}

<html lang = 'en'>
<head>
    <title>Weather App</title>
    <meta charset ='UTF-8'/>
    <meta name = 'viewport' content = "width=device-width, initial-scale=1"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
    crossorigin="anonymous">
    <link rel="stylesheet" href="{% static "css/style.css" %}">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"></script>
    <script>
        function use_ip(json) {
            $.ajax({
                url: "{% url 'get_weather_from_ip' %}",
                data: {"ip": json.ip},
                dataType: 'json',
                success: function (data) {
                    document.getElementById('humidity').innerHTML = data.Humidity + "%"
                    document.getElementById('wind').innerHTML = data.Wind + ' MPH'
                    document.getElementById('temperature').innerHTML = data.Temperature + "°"
                    document.getElementById('location').innerHTML = data.Location
                    document.getElementById('feelslike').innerHTML = data.FeelsLike + "°"
                    document.getElementById('pressure').innerHTML = data.Pressure + ' inHg'
                }
            });
        }
    </script>
    <script src = "http://api.ipify.org?format=jsonp&callback=use_ip"></script>
</head>
<body>
    {% block content %}{% endblock content %}
    
</body>
</html>